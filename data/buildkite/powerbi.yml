steps:
- block: Powerbi Processing Settings
  fields:
  - hint: Which calibration run should be used?
    key: run-id
    required: true
    text: Calibration run name
  - default: mle
    hint: 'Which candidate run should be used? (format: chain_run)'
    key: urunid
    required: true
    text: Candidate run id
  - default: use_original_commit
    hint: Specify git commit, or leave as default to use calibration commit
    key: commit
    required: true
    text: Specify commit SHA
  if: build.env("SKIP_INPUT") == null
  key: powerbi-processing-settings
- command: ./scripts/buildkite.sh powerbi
  key: run-powerbi
  label: Run Powerbi
- allow_dependency_failure: true
  command: ./scripts/website/deploy.sh
  depends_on: run-powerbi
  key: update-website
  label: Update Website
