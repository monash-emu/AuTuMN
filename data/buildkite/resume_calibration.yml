steps:
- block: Resume_Calibration_Settings
  fields:
  - hint: Which calibration run should be resumed?
    key: run-id
    required: true
    text: Existing calibration run-id
  - default: '7'
    hint: How many MCMC chains do you want to run?
    key: num-chains
    required: true
    text: Number of MCMC chains
  - default: '0.5'
    hint: How many hours should the model run for?
    key: mcmc-runtime
    required: true
    text: Runtime
  - default: 'no'
    hint: Should this task use most recent push (HEAD)? If no, the calibration commit
      will be used
    key: use-latest-code
    options:
    - label: 'Yes'
      value: 'yes'
    - label: 'No'
      value: 'no'
    required: true
    select: Use latest code for model run
  - default: master
    hint: Which git branch do you want to use to run the model?
    key: mcmc-branch
    required: true
    text: Model git branch name
  - default: 'yes'
    hint: Is 1/3 of the price but sometimes randomly fails.
    key: spot-instance
    options:
    - label: 'Yes'
      value: 'yes'
    - label: 'No'
      value: 'no'
    required: true
    select: Use spot instances
  if: build.env("SKIP_INPUT") == null
  key: resume_calibration_settings
- command: ./scripts/buildkite.sh resume
  key: resume_calibration
  label: Resume_Calibration
- allow_dependency_failure: true
  command: ./scripts/website/deploy.sh
  depends_on: resume_calibration
  key: update-website
  label: Update Website
